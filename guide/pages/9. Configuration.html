<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
        <title>9. Configuration</title>
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" title="Ref" charset="utf-8"/>
    </head>
    <body class="body">
    There are various configuration options to control processing of your resources.<p class="paragraph"/>All of these config variables can of course be set per-environment.<p class="paragraph"/><h2>Change the /static/ URI prefix: grails.resources.uri.prefix</h2><p class="paragraph"/>By default the plugin serves the modified static resources from URIs beginning with &#60;appcontext&#62;/static/.<p class="paragraph"/>You can change this by assigning a value to <strong class="bold">grails.resources.uri.prefix</strong><p class="paragraph"/><h2>Debug mode: grails.resources.debug</h2><p class="paragraph"/>Setting <strong class="bold">grails.resources.debug=true</strong> will force debug mode all the time, as if you added _debugResources=y to every request.<p class="paragraph"/><h2>Dependency-only mode: grails.resources.processing.enabled</h2><p class="paragraph"/>You can turn off resource processing completely with the trivial Config variable:<p class="paragraph"/><div class="code"><pre>grails.resource.processing.enabled = <span class="java&#45;keyword">false</span></pre></div><p class="paragraph"/>Like the _debugResources option, this will perform no processing at all. It will also not require a writable file system on the server, but obviously precludes any processing of resources.<p class="paragraph"/>You do however retain the dependency management abilities.<p class="paragraph"/><h2>Controlling the scope of the adhoc filter: grails.resources.adhoc.patterns</h2><p class="paragraph"/>The ad-hoc resource filter is mapped using Servlet SDK filter mappings, which are more restricted that Ant patterns. You can specify folder (xxx/<strong class="bold">) or file type (</strong>.xxx) mappings only.<p class="paragraph"/>You may not want the adhoc filter, which is only used for legacy resources (which are not linked to using resource tags), to intercept everything in your application.<p class="paragraph"/>The default value is:<p class="paragraph"/><div class="code"><pre>grails.resources.adhoc.patterns = &#91;<span class="java&#45;quote">"/images/&#42;"</span>, <span class="java&#45;quote">"&#42;.css"</span>, <span class="java&#45;quote">"&#42;.js"</span>&#93;</pre></div><p class="paragraph"/><h2>Controlling the includes and excludes of the adhoc filter: grails.resources.adhoc.includes/excludes</h2><p class="paragraph"/>While the grails.resources.adhoc.patterns setting gives you coarse control over which legacy URIs are intercepted, you can get full Ant-style include/exclude patterns using the <strong class="bold">grails.resources.adhoc.includes</strong> and <strong class="bold">grails.resources.adhoc.excludes</strong> variables.<p class="paragraph"/>They both accept a list of Ant-style patterns.<p class="paragraph"/><h2>Including specific resource patterns per-mapper: grails.resources.&#60;mappername&#62;.includes</h2><p class="paragraph"/>You can control the list of matching resources on a per-mapper basis. Mappers provide sensible defaults but you may have new content types (for example a new CSS variant such as LESS) that were not known at the time the mapper was written.<p class="paragraph"/>So for example to add .less files to processing by the CSS rewriters (necessary for correct behaviour with bundle mapper):<p class="paragraph"/><div class="code"><pre>grails.resources.cssrewriter.includes = &#91;'&#42;&#42;/&#42;.css', '&#42;&#42;/&#42;.less'&#93;
grails.resources.csspreprocessor.includes = &#91;'&#42;&#42;/&#42;.css', '&#42;&#42;/&#42;.less'&#93;</pre></div><p class="paragraph"/>You can also use this to ensure that only resources under a specific folder are processed.<p class="paragraph"/>Note that the value you provide <strong class="bold">replaces</strong> the default list supplied by the mapper.<p class="paragraph"/><h2>Excluding specific resource patterns per-mapper:grails.resources.&#60;mappername&#62;.excludes</h2><p class="paragraph"/>There may be times when a mapper is processing too many files - those that may have already been processed or that may become damaged by the mapping (i.e. incompatibilities due to relative code loading by JS code). Simply add the resource names or patterns to that mapper's excludes:<p class="paragraph"/><div class="code"><pre>grails.resources.cssrewriter.excludes = &#91;'unsafe/&#42;&#42;'&#93;
grails.resources.csspreprocessor.excludes = &#91;'unsafe/&#42;&#42;'&#93;
grails.resources.bundle.excludes = &#91;'unsafe/&#42;&#42;/&#42;.css'&#93;</pre></div><p class="paragraph"/>Note that the value you provide <strong class="bold">replaces</strong> the default list supplied by the mapper.<p class="paragraph"/><h2>Disabling CSS rewriting: grails.resources.rewrite.css</h2><p class="paragraph"/>It is possible to turn off all CSS rewriting by setting this value to false. This is not recommended as it will usually break bundling unless all your links are relative and you don't have any mappers that move your resources relative to your CSS.

    </body>
</html>
